<!DOCTYPE html>
<html lang="en">
  <%- include("partials/home-header.ejs") %>
  <body>
    <!-- Navbar -->
    <%- include("partials/nav.ejs") %>

    <!-- HERO SECTION -->
    <header
      class="hero d-flex align-items-center justify-content-center text-center"
    >
      <video
        class="hero-video"
        autoplay
        muted
        loop
        playsinline
        poster="/images/background.jpg"
      >
        <source src="/videos/vid1.mp4" type="video/mp4" />
      </video>
      <div class="hero-overlay"></div>

      <div class="container position-relative hero-content text-center">
        <h1 class="display-4 fw-bold text-hero reveal">RecipeGPT</h1>
        <p class="lead text-hero-subtle mb-4 reveal">
          Give us the ingredients and let AI create a delicious meal plan in
          seconds.
        </p>
        <a href="#form" class="btn btn-neo btn-lg reveal text-white shadow-lg">
          <i class="bi bi-magic me-2"></i> Start Cooking
        </a>
      </div>

      <div class="hero-divider"></div>
    </header>

    <!-- MAIN SECTION -->
    <section class="container my-5">
      <h2 class="text-center mb-4 rec-header">Your AI Food Recommendations</h2>

      <!-- Output Box -->
      <div id="outputBox" class="card card-modern p-4 text-left" hidden>
        <div id="aiResults" class="mt-4"></div>
      </div>

      <!-- Form Card -->
      <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">
          <div
            class="card card-modern glass-soft p-4 text-center shadow-lg border-0"
          >
            <div class="mb-3">
              <h5 class="fw-bold text-dark mb-1">Enter Your Ingredients</h5>
              <p class="text-muted mb-0">
                Type your ingredients or upload a photo â€” AI will suggest the
                best dishes.
              </p>
            </div>
            <!-- Advanced Filter Form -->
            <form class="mb-3" id="advancedForm" hidden>
              <div>
                <label for="cuisine-select">Select Cuisine:</label>
                <select id="cuisine-select" name="cuisine" size="1">
                  <option value="" disabled selected>
                    -------Select-------
                  </option>
                  <option value="italian">Italian</option>
                  <option value="mexican">Mexican</option>
                  <option value="asian">Asian</option>
                  <option value="indian">Indian</option>
                  <option value="mediterranean">Mediterranean</option>
                  <option value="french">French</option>
                </select>
              </div>

              <div>
                <label for="dish-type-select">Select Dish Type:</label>
                <select id="dish-type-select" name="dish-type" size="1">
                  <option value="" disabled selected>---Select---</option>
                  <option value="appetizer">Appetizer</option>
                  <option value="main-dish">Main Dish</option>
                  <option value="side-dish">Side Dish</option>
                  <option value="dessert">Dessert</option>
                  <option value="beverage">Beverage</option>
                </select>
              </div>

              <div>
                <label for="diet-type-select">Select Diet Type:</label>
                <select id="diet-type-select" name="diet-type" size="1s">
                  <option value="" disabled selected>-----Select-----</option>
                  <option value="Vegetarian">Vegetarian</option>
                  <option value="Vegan">Vegan</option>
                  <option value="Any (Default)">Any (Default)</option>
                </select>
              </div>
            </form>

            <!-- Main Input Form -->
            <form class="mb-3" id="form">
              <div class="d-flex justify-content-between flex-wrap gap-2 mb-3">
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="advancedFilter"
                  />
                  <label class="form-check-label" for="advancedFilter"
                    >Advanced Filters</label
                  >
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="includeOnlyAvailable"
                  />
                  <label class="form-check-label" for="includeOnlyAvailable">
                    Include Only Given Ingredients
                  </label>
                </div>
              </div>

              <!-- Input & Buttons -->
              <div class="input-bar mb-3 bg-light rounded-pill p-2 shadow-sm">
                <div class="file-upload-container position-relative">
                  <button
                    id="plusBtn"
                    type="button"
                    class="plus-btn"
                    title="Add options"
                  >
                    +
                  </button>
                  <div id="menu" class="plus-menu hidden">
                    <button class="menu-item" id="uploadPhotoBtn" type="button">
                      <i class="bi bi-camera me-2"></i> Take a Photo
                    </button>
                    <button class="menu-item" id="uploadFileBtn" type="button">
                      <i class="bi bi-upload me-2"></i> Upload File
                    </button>
                  </div>
                </div>

                <input
                  id="chat"
                  type="text"
                  class="form-control border-0"
                  placeholder="e.g., tomato, cheese, basil"
                />

                <button
                  id="voice"
                  type="button"
                  class="btn btn-outline-secondary rounded-circle"
                >
                  <i class="bi bi-mic-fill"></i>
                </button>
                <button
                  id="addchip"
                  type="submit"
                  class="btn btn-outline-success rounded-pill d-flex align-items-center gap-1 px-3"
                >
                  <i class="bi bi-basket2-fill"></i> Add to Pot
                </button>
              </div>
              <div id="outputContainer" class="mt-3"></div>
            </form>

            <!-- Generate Button Below -->
            <div class="mt-4">
              <button
                class="btn btn-neo btn-lg w-100"
                type="button"
                id="generateRecipes"
              >
                <i class="bi bi-stars me-2"></i> Generate Recipes
              </button>
            </div>

            <!-- Uploads -->
            <input type="file" id="imageInput" accept="image/*" hidden />
            <input type="file" id="fileInput" hidden />

            <!-- Tags -->

            <div id="fileName" class="file-name small text-muted"></div>
          </div>
        </div>
      </div>
    </section>

    <%- include("partials/chat-bot.ejs") %>
  </body>
</html>
